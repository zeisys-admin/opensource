{
  "Resources": {
    "Instance": {
      "Type": "AWS::EC2::Instance",
      "Properties": {
        "ImageId": "ami-0d331726819e421f5",
        "InstanceType": "t2.micro",
        "UserData": "IyEvYmluL2Jhc2gKClVOSVhfVVNFUj0iZWMyLXVzZXIiClVOSVhfVVNFUl9IT01FPSIvaG9tZS9lYzItdXNlciIKRU5WSVJPTk1FTlRfUEFUSD0iL2hvbWUvZWMyLXVzZXIvZW52aXJvbm1lbnQiClVOSVhfR1JPVVA9JChpZCAtZyAtbiAiJFVOSVhfVVNFUiIpCgojIGFkZCBTU0gga2V5Cmluc3RhbGwgLWcgIiRVTklYX0dST1VQIiAtbyAiJFVOSVhfVVNFUiIgLW0gNzU1IC1kICIkVU5JWF9VU0VSX0hPTUUiLy5zc2gKY2F0IDw8J0VPRicgPj4gIiRVTklYX1VTRVJfSE9NRSIvLnNzaC9hdXRob3JpemVkX2tleXMKIyBJbXBvcnRhbnQKIyAtLS0tLS0tLS0KIyBUaGUgZm9sbG93aW5nIHB1YmxpYyBrZXkgaXMgcmVxdWlyZWQgYnkgQ2xvdWQ5IElERQojIFJlbW92aW5nIHRoaXMga2V5IHdpbGwgbWFrZSB0aGlzIEVDMiBpbnN0YW5jZSBpbmFjY2Vzc2libGUgYnkgdGhlIElERQojCmNlcnQtYXV0aG9yaXR5IHNzaC1yc2EgQUFBQUIzTnphQzF5YzJFQUFBQURBUUFCQUFBQ0FRRGl4dXc5aDdyczVaKzVpRU5JRlFBM2NLK1laTVRQTmZiMEpBQSt3YmthbmpuWS94clBOeVBpVTA1c3MzTHJjRlQ2UkYxU3ZwRStVYjJBOVZtUXJYaERtbDZjQWsyRDA3WWhCQlVleTkxMUtHNVhGVkdvMk5iLzRmTFBCRndlUHRSM1hBUHVLY1plNDNKSGpFcHBEbmtrR0lGUHFJN2szWG9zSFBTdFBYUnh4UVl2cmhscUxEMGFJYXJvcjNmUlR0d1l0aWlraWZPRTZndjFUNzFuN3ZmTnFVV2xTZTVsMG5VZFE0Y2ZMb1FkSFlpb1ZwcGM2RDhnbExSK0crcXlxOFQ4UVpIZTJZbHFBQ3BNeUVvNmdTZlZ1SUladlVLZG1QR3ozbkpxaWE1V3hEREN5NUlXSnlHZTZlMGM3UHBDbzVCcmtWcVRyd2cxcGttemh5SnNPcjlDcjdrU0h2OWdPYUttT0tjeTNvd3BncWxOMTZwVEFzMy9TcWxYa2xVZFpseTNjT25Kdm0ybklqTWFrUWpVQ1N6YnRhVTdKbU9lclhCWFNMZng3UitGZ0NlT1NMRmROTmlEcnVobm5rNGI5Mm14NnVMY2R6bHJhUVBaZXRVUWdhRldVVUhJb0p3MVZTZU82YTRnSTB5L3pHZlEzQlA2dGtjYmlTaG9lNTVDNW03bjdRK1JGaC81ME44enljRVpodGRLN3lRSTlibXNZbUVCNHlmcUZsTkcvV20xVHp5WWV2b1BkZ0NqZ0txT2E2aE1jbGV6cnZzYzdkTnVTdTgyM2dDK0FrMXlHdkw0UzBScFZKUERMVWxmTkxIRWVBWFFjNmpVRmM2YTNnMUFJeGRpY1pZNjRkMEw3UlRpNzVvei9xTGhrbU1HSUdzbUk2OXNJVXUzWGxZU3NRPT0gZDEwZmQ5ZDliZjg3NDhiMmFiNGViYmVmNTQxZjkxMTdAY2xvdWQ5LmFtYXpvbi5jb20KCgojCiMgQWRkIGFueSBhZGRpdGlvbmFsIGtleXMgYmVsb3cgdGhpcyBsaW5lCiMKCkVPRgoKIyBhbGxvdyBhdXRvbWF0aWMgc2h1dGRvd24KZWNobyAiJFVOSVhfVVNFUiAgICBBTEw9KEFMTCkgTk9QQVNTV0Q6IC9zYmluL3Bvd2Vyb2ZmLCAvc2Jpbi9yZWJvb3QsIC9zYmluL3NodXRkb3duIiA+PiAvZXRjL3N1ZG9lcnMKCmxuIC1zIC9vcHQvYzkgIiRVTklYX1VTRVJfSE9NRSIvLmM5CmNob3duIC1SICIkVU5JWF9VU0VSIjoiJFVOSVhfR1JPVVAiICIkVU5JWF9VU0VSX0hPTUUiLy5jOSAvb3B0L2M5Cmluc3RhbGwgLWcgIiRVTklYX0dST1VQIiAtbyAiJFVOSVhfVVNFUiIgLW0gNzU1IC1kICIkRU5WSVJPTk1FTlRfUEFUSCIKCmlmIFsgIiRFTlZJUk9OTUVOVF9QQVRIIiA9PSAiL2hvbWUvZWMyLXVzZXIvZW52aXJvbm1lbnQiIF0gJiYgZ3JlcCAiYWxpYXMgcHl0aG9uPXB5dGhvbjI3IiAiJFVOSVhfVVNFUl9IT01FIi8uYmFzaHJjOyB0aGVuCgogICAgY2F0IDw8J0VPRicgPiAiJFVOSVhfVVNFUl9IT01FIi8uYmFzaHJjCiMgLmJhc2hyYwoKZXhwb3J0IFBBVEg9JFBBVEg6JEhPTUUvLmxvY2FsL2JpbjokSE9NRS9iaW4KCiMgbG9hZCBudm0KZXhwb3J0IE5WTV9ESVI9IiRIT01FLy5udm0iClsgIiRCQVNIX1ZFUlNJT04iIF0gJiYgbnBtKCkgewogICAgIyBoYWNrOiBhdm9pZCBzbG93IG5wbSBzYW5pdHkgY2hlY2sgaW4gbnZtCiAgICBpZiBbICIkKiIgPT0gImNvbmZpZyBnZXQgcHJlZml4IiBdOyB0aGVuIHdoaWNoIG5vZGUgfCBzZWQgInMvYmluXC9ub2RlLy8iOwogICAgZWxzZSAkKHdoaWNoIG5wbSkgIiRAIjsgZmkKfQojIFsgLXMgIiROVk1fRElSL252bS5zaCIgXSAmJiAuICIkTlZNX0RJUi9udm0uc2giICAjIFRoaXMgbG9hZHMgbnZtCnJ2bV9zaWxlbmNlX3BhdGhfbWlzbWF0Y2hfY2hlY2tfZmxhZz0xICMgcHJldmVudCBydm0gY29tcGxhaW50cyB0aGF0IG52bSBpcyBmaXJzdCBpbiBQQVRICnVuc2V0IG5wbSAjIGVuZCBoYWNrCgoKIyBVc2VyIHNwZWNpZmljIGFsaWFzZXMgYW5kIGZ1bmN0aW9ucwphbGlhcyBweXRob249cHl0aG9uMjcKCiMgbW9kaWZpY2F0aW9ucyBuZWVkZWQgb25seSBpbiBpbnRlcmFjdGl2ZSBtb2RlCmlmIFsgIiRQUzEiICE9ICIiIF07IHRoZW4KICAgICMgU2V0IGRlZmF1bHQgZWRpdG9yIGZvciBnaXQKICAgIGdpdCBjb25maWcgLS1nbG9iYWwgY29yZS5lZGl0b3IgL3Vzci9iaW4vbmFubwoKICAgICMgVHVybiBvbiBjaGVja3dpbnNpemUKICAgIHNob3B0IC1zIGNoZWNrd2luc2l6ZQoKICAgICMga2VlcCBtb3JlIGhpc3RvcnkKICAgIHNob3B0IC1zIGhpc3RhcHBlbmQKICAgIGV4cG9ydCBISVNUU0laRT0xMDAwMDAKICAgIGV4cG9ydCBISVNURklMRVNJWkU9MTAwMDAwCiAgICBleHBvcnQgUFJPTVBUX0NPTU1BTkQ9Imhpc3RvcnkgLWE7IgoKICAgICMgU291cmNlIGZvciBHaXQgUFMxIGZ1bmN0aW9uCiAgICBpZiAhIHR5cGUgLXQgX19naXRfcHMxICYmIFsgLWUgIi91c3Ivc2hhcmUvZ2l0LWNvcmUvY29udHJpYi9jb21wbGV0aW9uL2dpdC1wcm9tcHQuc2giIF07IHRoZW4KICAgICAgICAuIC91c3Ivc2hhcmUvZ2l0LWNvcmUvY29udHJpYi9jb21wbGV0aW9uL2dpdC1wcm9tcHQuc2gKICAgIGZpCgogICAgIyBDbG91ZDkgZGVmYXVsdCBwcm9tcHQKICAgIF9jbG91ZDlfcHJvbXB0X3VzZXIoKSB7CiAgICAgICAgaWYgWyAiJEM5X1VTRVIiID0gcm9vdCBdOyB0aGVuCiAgICAgICAgICAgIGVjaG8gIiRVU0VSIgogICAgICAgIGVsc2UKICAgICAgICAgICAgZWNobyAiJEM5X1VTRVIiCiAgICAgICAgZmkKICAgIH0KCiAgICBQUzE9J1xbXDAzM1swMTszMm1cXSQoX2Nsb3VkOV9wcm9tcHRfdXNlcilcW1wwMzNbMDBtXF06XFtcMDMzWzAxOzM0bVxdXHdcW1wwMzNbMDBtXF0kKF9fZ2l0X3BzMSAiICglcykiIDI+L2Rldi9udWxsKSAkICcKZmkKCkVPRgoKICAgIGNob3duICIkVU5JWF9VU0VSIjoiJFVOSVhfR1JPVVAiICIkVU5JWF9VU0VSX0hPTUUiLy5iYXNocmMKZmkKCmlmIFsgIiRFTlZJUk9OTUVOVF9QQVRIIiA9PSAiL2hvbWUvZWMyLXVzZXIvZW52aXJvbm1lbnQiIF0gJiYgWyAhIC1mICIkRU5WSVJPTk1FTlRfUEFUSCIvUkVBRE1FLm1kIF07IHRoZW4KICAgIGNhdCA8PCdFT0YnID4+ICIkRU5WSVJPTk1FTlRfUEFUSCIvUkVBRE1FLm1kCiAgICAgICAgIF9fXyAgICAgICAgX19fX19fICAgICBfX19fIF8gICAgICAgICAgICAgICAgIF8gIF9fXwogICAgICAgIC8gXCBcICAgICAgLyAvIF9fX3wgICAvIF9fX3wgfCBfX18gIF8gICBfICBfX3wgfC8gXyBcCiAgICAgICAvIF8gXCBcIC9cIC8gL1xfX18gXCAgfCB8ICAgfCB8LyBfIFx8IHwgfCB8LyBfYCB8IChfKSB8CiAgICAgIC8gX19fIFwgViAgViAvICBfX18pIHwgfCB8X19ffCB8IChfKSB8IHxffCB8IChffCB8XF9fLCB8CiAgICAgL18vICAgXF9cXy9cXy8gIHxfX19fLyAgIFxfX19ffF98XF9fXy8gXF9fLF98XF9fLF98ICAvXy8KIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgoKSGkgdGhlcmUhIFdlbGNvbWUgdG8gQVdTIENsb3VkOSEKClRvIGdldCBzdGFydGVkLCBjcmVhdGUgc29tZSBmaWxlcywgcGxheSB3aXRoIHRoZSB0ZXJtaW5hbCwKb3IgdmlzaXQgaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL2NvbnNvbGUvY2xvdWQ5LyBmb3Igb3VyIGRvY3VtZW50YXRpb24uCgpIYXBweSBjb2RpbmchCgpFT0YKCiAgICBjaG93biAiJFVOSVhfVVNFUiI6IiRVTklYX0dST1VQIiAiJFVOSVhfVVNFUl9IT01FIi9lbnZpcm9ubWVudC9SRUFETUUubWQKZmkKCiMgRml4IGZvciBwZXJtaXNzaW9uIGVycm9yIHdoZW4gdHJ5aW5nIHRvIGNhbGwgYGdlbSBpbnN0YWxsYApjaG93biAiJFVOSVhfVVNFUiIgLVIgL3Vzci9sb2NhbC9ydm0vZ2VtcwoKI1RoaXMgc2NyaXB0IGlzIGFwcGVuZGVkIHRvIGFub3RoZXIgYmFzaCBzY3JpcHQsIHNvIGl0IGRvZXMgbm90IG5lZWQgYSBiYXNoIHNjcmlwdCBmaWxlIGhlYWRlci4KClVOSVhfVVNFUl9IT01FPSIvaG9tZS9lYzItdXNlciIKCkM5X0RJUj0kVU5JWF9VU0VSX0hPTUUvLmM5CkNPTkZJR19GSUxFX1BBVEg9IiRDOV9ESVIiL2F1dG9zaHV0ZG93bi1jb25maWd1cmF0aW9uClZGU19DSEVDS19GSUxFX1BBVEg9IiRDOV9ESVIiL3N0b3AtaWYtaW5hY3RpdmUuc2gKCmVjaG8gIlNIVVRET1dOX1RJTUVPVVQ9MzAiID4gIiRDT05GSUdfRklMRV9QQVRIIgpjaG1vZCBhK3cgIiRDT05GSUdfRklMRV9QQVRIIgoKZWNobyAtZSAnIyEvYmluL2Jhc2gKc2V0IC1ldW8gcGlwZWZhaWwKQ09ORklHPSQoY2F0ICckQ09ORklHX0ZJTEVfUEFUSCcpClNIVVRET1dOX1RJTUVPVVQ9JHtDT05GSUcjKj19CmlmICEgW1sgJFNIVVRET1dOX1RJTUVPVVQgPX4gXlswLTldKiQgXV07IHRoZW4KICAgIGVjaG8gInNodXRkb3duIHRpbWVvdXQgaXMgaW52YWxpZCIKICAgIGV4aXQgMQpmaQppc19zaHV0dGluZ19kb3duKCkgewogICAgaXNfc2h1dHRpbmdfZG93bl9zeXN0ZW1fZCAmPiAvZGV2L251bGwgfHwgaXNfc2h1dHRpbmdfZG93bl9pbml0X2QgJj4gL2Rldi9udWxsCn0KaXNfc2h1dHRpbmdfZG93bl9zeXN0ZW1fZCgpIHsKICAgIGxvY2FsIFRJTUVPVVQKICAgIFRJTUVPVVQ9JChidXNjdGwgZ2V0LXByb3BlcnR5IG9yZy5mcmVlZGVza3RvcC5sb2dpbjEgL29yZy9mcmVlZGVza3RvcC9sb2dpbjEgb3JnLmZyZWVkZXNrdG9wLmxvZ2luMS5NYW5hZ2VyIFNjaGVkdWxlZFNodXRkb3duKQogICAgaWYgWyAiJD8iIC1uZSAiMCIgXTsgdGhlbgogICAgICAgIHJldHVybiAxCiAgICBmaQogICAgaWYgWyAiJChlY2hvICRUSU1FT1VUIHwgYXdrICJ7cHJpbnQgXCQzfSIpIiA9PSAiMCIgXTsgdGhlbgogICAgICAgIHJldHVybiAxCiAgICBlbHNlCiAgICAgICAgcmV0dXJuIDAKICAgIGZpCn0KaXNfc2h1dHRpbmdfZG93bl9pbml0X2QoKSB7CiAgICBwZ3JlcCBzaHV0ZG93bgp9CmlzX3Zmc19jb25uZWN0ZWQoKSB7CiAgICBwZ3JlcCB2ZnMtd29ya2VyID4vZGV2L251bGwKfQoKaWYgaXNfc2h1dHRpbmdfZG93bjsgdGhlbgogICAgaWYgW1sgISAkU0hVVERPV05fVElNRU9VVCA9fiBeWzAtOV0rJCBdXSB8fCBpc192ZnNfY29ubmVjdGVkOyB0aGVuCiAgICAgICAgc3VkbyBzaHV0ZG93biAtYwogICAgZmkKZWxzZQogICAgaWYgW1sgJFNIVVRET1dOX1RJTUVPVVQgPX4gXlswLTldKyQgXV0gJiYgISBpc192ZnNfY29ubmVjdGVkOyB0aGVuCiAgICAgICAgc3VkbyBzaHV0ZG93biAtaCAkU0hVVERPV05fVElNRU9VVAogICAgZmkKZmknID4gIiRWRlNfQ0hFQ0tfRklMRV9QQVRIIgoKY2htb2QgK3ggIiRWRlNfQ0hFQ0tfRklMRV9QQVRIIgoKZWNobyAiKiAqICogKiAqIHJvb3QgJFZGU19DSEVDS19GSUxFX1BBVEgiID4gL2V0Yy9jcm9uLmQvYzktYXV0b21hdGljLXNodXRkb3duCg==",
        "Tags": [
          {
            "Key": "Name",
            "Value": "aws-cloud9-cft-d10fd9d9bf8748b2ab4ebbef541f9117"
          }
        ],
        "NetworkInterfaces": [
          {
            "AssociatePublicIpAddress": true,
            "DeviceIndex": 0,
            "SubnetId": "",
            "GroupSet": [{"Ref": "InstanceSecurityGroup"}]
          }
        ]
      }
    },
    "InstanceSecurityGroup": {
      "Type": "AWS::EC2::SecurityGroup",
      "Properties": {
        "GroupDescription": "Security group for AWS Cloud9 environment aws-cloud9-cft-d10fd9d9bf8748b2ab4ebbef541f9117",
        "VpcId": "vpc-d1d693ab",
        "SecurityGroupIngress": [
          {
            "FromPort": 22,
            "ToPort": 22,
            "IpProtocol": "tcp",
            "CidrIp": "35.172.155.192/27"
          },
          {
            "FromPort": 22,
            "ToPort": 22,
            "IpProtocol": "tcp",
            "CidrIp": "35.172.155.96/27"
          }
        ]
        ,"Tags": [
          {
            "Key": "Name",
            "Value": "aws-cloud9-cft-d10fd9d9bf8748b2ab4ebbef541f9117"
          }
        ]
      }
    }
  }
}
